
    <html>
    <head>
        <style>
            /* Base styles */
            table {
                font-family: "Avenir";
                border: 1px solid rbg(5,5,5);
                border-collapse: collapse;
                /*table-layout: auto;
                width: auto;*/
                margin: 0 auto;
                font-size:1.2em;
            }

            th, td {
                text-align: left;
                white-space: nowrap;
                padding: 12px;
                min-width: 60px;
            }

            th {
                font-family: "cormorant garamond";
                background: radial-gradient(circle, #1a212a, #06121b);
                background-color: grey;
                border: none;
                border-bottom: 1px solid grey;
                box-shadow: -1px 0 0 2 #000,  /* left border */
                 1px 0 0 2 #000;  /* right border */
                font-size: 1.1em;
                text-align: center !important;
                position: sticky;
                top: -1px;
                z-index: 10;
                height: 100px;
                color: eceeee;
                padding: 3px;
            }

            th {
                box-shadow: 0px 0px 1px #000, /* right border */
                            -1px 0 0px #000;  /* left border */
                z-index:10;
            }

            /**, *:before, *:after {
                box-sizing: border-box;
            }*/


            td {
                white-space: nowrap;
                border: 1px solid rgb(200,200,200);
            }

            td:nth-child(2), th:nth-child(2) {
                padding:10px;
                width:100px;
            }

            /* Styles for the sticky first column */
            th:first-child, td:first-child {
                position: sticky;
                left: -1px;
                z-index: 1;
                //background-color: white; /* This should be a default color for the sticky first column */
                font-weight: bold;
            }

            th:first-child {
                z-index: 4;
                top: -1px;
                left: -1px;
                //background-color: grey;
            }

            /* Hover effects only for non-category rows */
            tbody tr:not(.category-row):hover td,
            tbody tr:not(.category-row):hover th {
                background-color: #82b3fd;
                transition: background-color 0.3s ease-in-out; /* Add a smooth transition effect */
                color: white;
                font-weight:bold;
            }

            /* Category row styles */
            tr.category-row td:not(:first-child) {
                //font-size: 0;
                //color:white;
            }
            tr.category-row, 
            tr.category-row td, 
            tr.category-row th {
                //background-color: #267dff;
                border: none;
                font-family: "cormorant garamond";
                font-weight:strong;
                font-size:20px;
                text-transform: uppercase;
                color:#ECEEEE;
                text-align:center;
            }
            tr.category-row td:first-child, 
            tr.category-row th:first-child {
                //background-color: #267dff;
                text-align:left;
            }


            .sticky-first-col table {
                table-layout: fixed;
            }
            .sticky-first-col th:first-child, 
            .sticky-first-col td:first-child {
                //background-color: #fff;
            }

            

            /* Right-align content for column 3 and higher */
            td:nth-child(n+3) {
                text-align: right;
            }

            td:nth-child(n+3) {
                max-width: 50px;
            }            

            /* Set an opaque background for the header of the most recent date column */
            th[data-latest="true"] {
                background-color: rgb(130, 179, 253);
                z-index: 9999;  /* To ensure the header stays above other cells */
            }


            /* Alternate row color for even rows */
            tr:nth-child(even) {
                background-color: #E2E4E4;
                z-index:1;
            }

            td.highlight {
                background-color: rgba(130, 179, 253, 0.5); /* Highlight color */
                transition: background-color 0.3s ease-in-out; /* Add a smooth transition effect */
                font-weight:600;
                border:none;
            }

            

            .header-content:not(.date-tip) {
                //transform: rotate(-90deg);
                white-space: nowrap;
            }

            .date_tip {
                position: absolute;
                font-family: 'avenir';
                font-size: 0.85em;
                transform: translateX(-50%);  /* To ensure perfect centering */
                background-color: rgb(0,0,0,0.99);
                color: white;
                border-radius: 8px;
                border: none;
                padding: 20px;
                z-index: 20;
                margin-top: 5px;  // to position it just below the date.
                white-space: nowrap; // to prevent wrapping inside the tooltip.
                opacity: 0;  /* Initially transparent */
                visibility: hidden;
                transition: opacity 0.9;  /* Delayed fade in */
            }

            .year {
                font-size: 1.3em;
            }

            /* Tooltip styling on TH cell hover */
            th:hover .date_tip {
                opacity: 0.9;  /* Fully opaque */
                visibility: visible;
                top: 100%;
                left: 50%;
            }

            /* Apply reverse rotation to un-rotate the tooltip within the rotated header
            .header-content:not(.date-tip) .date_tip {
                transform: rotate(90deg);
                transform-origin: top right;
            }

            .header-content {
                position: relative; // makes sure the absolute positioning of the tooltip is in relation to this container.
            }*/

            /* Style for the most recent date column */
            td[data-latest="true"], th[data-latest="true"] {
                background-color: rgba(130, 179, 253);
            }

            .folded {
                /*display: none;*/
            }

             /* Style for odd rows */
            tr:nth-child(odd) td:first-child {
               background-color: white;
            }
            
            /* Ensure the first column of even rows gets the alternate color */
            tr:nth-child(even) td:first-child {
                background-color: #E2E4E4;
            }

            tr.category-row {
                position:relative;
                background-color: none;
                background-opacity: 0;
                background: linear-gradient(to right, #267dff, #da5955); /* Adjust colors as desired */
                
            }

            tr.category-row > td:first-child {
                background-color: rgb(0,0,0,0);
            }

           

        </style>


 
    </head>
    <body>
    <div>
    
        <table>
    <table><thead><tr><th><span>smith,john</span></th><th><span><div class='header-content'>Sep<br><span class='year'>2023</span><div class='date_tip'>Tuesday<br>09.12.23<br>19 weeks elapsed</div></div></span></th><th><span><div class='header-content'>Apr<br><span class='year'>2023</span><div class='date_tip'>Wednesday<br>04.26.23<br>21 weeks elapsed</div></div></span></th><th><span><div class='header-content'>Nov<br><span class='year'>2022</span><div class='date_tip'>Wednesday<br>11.30.22<br>14 weeks elapsed</div></div></span></th><th><span><div class='header-content'>Aug<br><span class='year'>2022</span><div class='date_tip'>Tuesday<br>08.23.22<br>19 weeks elapsed</div></div></span></th><th><span><div class='header-content'>Apr<br><span class='year'>2022</span><div class='date_tip'>Tuesday<br>04.12.22<br>Initial Draw</div></div></span></th></tr></thead><tbody><tr class="category-row"><td>Lipids</td><td>LC</td><td>BH</td><td>BH</td><td>BH</td><td>BH</td></tr><tr><td>LDL-C </td><td>77</td><td>55</td><td>71</td><td>68</td><td>114</td></tr><tr><td>HDL-C</td><td>48</td><td>46</td><td>48</td><td>51</td><td>45</td></tr><tr><td>Triglycerides</td><td>69</td><td>51</td><td>60</td><td>70</td><td>87</td></tr><tr><td>Non-HDL-C</td><td>91</td><td>70</td><td>83</td><td>84</td><td>138</td></tr><tr><td>VLDL-C</td><td>14</td><td>15</td><td>12</td><td>16</td><td>24</td></tr><tr><td>TG/HDL-C</td><td>1.4</td><td>1.1</td><td>1.2</td><td>1.4</td><td>1.9</td></tr><tr class="category-row"><td>Lipoproteins</td><td></td><td></td><td></td><td></td><td></td></tr><tr><td>Lp(a) mg/dL | <15</td><td></td><td></td><td></td><td></td><td><15</td></tr><tr><td>ApoB</td><td>60</td><td>61</td><td>63</td><td>61</td><td>98</td></tr><tr><td>ApoE | 3/4</td><td></td><td></td><td></td><td></td><td>3/4</td></tr><tr class="category-row"><td>Metabolic</td><td></td><td></td><td></td><td></td><td></td></tr><tr><td>Homocysteine</td><td>8.4</td><td>7</td><td>7</td><td>7</td><td>9</td></tr><tr><td>hsCRP</td><td>0.7</td><td>0.4</td><td>0.2</td><td>0.4</td><td>0.5</td></tr><tr><td>Uric acid</td><td>4</td><td>4.7</td><td>4.9</td><td>4.4</td><td>5.4</td></tr><tr><td>Insulin</td><td>3.8</td><td>2</td><td>3</td><td>2</td><td>2</td></tr><tr><td>HbA1c</td><td>5.7</td><td>5.7</td><td>5.4</td><td>5.3</td><td>5.5</td></tr><tr class="category-row"><td>Sterols</td><td></td><td></td><td></td><td></td><td></td></tr><tr><td>Campesterol</td><td></td><td>1.6</td><td>2.1</td><td>2.3</td><td>3.1</td></tr><tr><td>Sitosterol</td><td></td><td>1.6</td><td>2.1</td><td>2.4</td><td>3.3</td></tr><tr><td>Lathosterol </td><td></td><td>1</td><td>1</td><td>1</td><td>2.2</td></tr><tr><td>Desmosterol</td><td></td><td>0.8</td><td>1</td><td>1</td><td>1.4</td></tr><tr class="category-row"><td>Thyroid</td><td></td><td></td><td></td><td></td><td></td></tr><tr><td>TSH</td><td>1.4</td><td>1.4</td><td>1.1</td><td>1.6</td><td>1.6</td></tr><tr><td>fT4</td><td>1.2</td><td>1.3</td><td>1.3</td><td></td><td></td></tr><tr><td>fT3 </td><td>3.4</td><td>3.6</td><td>3.3</td><td>3.2</td><td>3.4</td></tr><tr class="category-row"><td>Sex hormones</td><td></td><td></td><td></td><td></td><td></td></tr><tr><td>Estradiol</td><td>21.2</td><td>25.8</td><td>30.1</td><td><25.0</td><td><25.0</td></tr><tr><td>FSH</td><td>2.5</td><td>2.7</td><td>2.4</td><td>2.5</td><td>2.7</td></tr><tr><td>LH</td><td>2.4</td><td>3.1</td><td>3.1</td><td>3</td><td>2.7</td></tr><tr><td>SHBG</td><td>49.9</td><td>63</td><td>53</td><td>50</td><td>55</td></tr><tr><td>Testosterone</td><td>551.2</td><td>686</td><td>702</td><td>597</td><td>628</td></tr><tr><td>Free testosterone</td><td>8.5</td><td>9.4</td><td>11.2</td><td>9.3</td><td>9.1</td></tr><tr class="category-row"><td>PSA</td><td></td><td></td><td></td><td></td><td></td></tr><tr class="category-row"><td>PSA velocity</td><td></td><td></td><td></td><td></td><td></td></tr><tr class="category-row"><td>Liver</td><td></td><td></td><td></td><td></td><td></td></tr><tr><td>ALT</td><td>35</td><td>49</td><td>38</td><td>47</td><td>28</td></tr><tr><td>AST</td><td>30</td><td>36</td><td>29</td><td>34</td><td>26</td></tr><tr><td>Total bilirubin</td><td>0.9</td><td>0.5</td><td>0.8</td><td>0.9</td><td>0.6</td></tr><tr class="category-row"><td>Other</td><td></td><td></td><td></td><td></td><td></td></tr><tr><td>Hb</td><td>16.7</td><td>15.7</td><td>15.6</td><td>15.6</td><td>16.4</td></tr><tr class="category-row"><td>Iron</td><td></td><td></td><td></td><td></td><td></td></tr><tr><td>Ferritin</td><td>138</td><td>173</td><td>155</td><td>165</td><td>236</td></tr><tr><td>Cystatin C</td><td>0.8</td><td>0.8</td><td>0.8</td><td>0.8</td><td>1.0</td></tr><tr><td>eGFR - Cystatin C</td><td>116</td><td>112</td><td>111</td><td>115</td><td>90</td></tr><tr><td>Vitamin D</td><td>75.6</td><td>57</td><td>63</td><td>69</td><td>60</td></tr><tr><td>Omega-3</td><td></td><td>9.9</td><td></td><td>8.2</td><td>8</td></tr>
        </tbody>
        
        </table>
        <!-- Add a hidden div for displaying the graph -->
        <div id="graphPopup" style="display: none;"></div>
       <script>
            // Get all header cells
            const headerCells = document.querySelectorAll('th');

            // Array to store indices of highlighted columns
            const highlightedColumns = [];

            // Add click event listeners to header cells
            headerCells.forEach((headerCell, index) => {
            headerCell.addEventListener('click', () => {
                // Check if the column is already highlighted
                const isHighlighted = highlightedColumns.includes(index);

                // Toggle highlight status
                if (isHighlighted) {
                // Remove highlight from the column
                headerCell.classList.remove('highlight');
                const cellsInColumn = document.querySelectorAll(`td:nth-child(${index + 1})`);
                cellsInColumn.forEach(cell => cell.classList.remove('highlight'));

                // Remove index from the array
                const indexToRemove = highlightedColumns.indexOf(index);
                highlightedColumns.splice(indexToRemove, 1);
                } else {
                // Add highlight to the column
                headerCell.classList.add('highlight');
                const cellsInColumn = document.querySelectorAll(`td:nth-child(${index + 1})`);
                cellsInColumn.forEach(cell => cell.classList.add('highlight'));

                // Add index to the array
                highlightedColumns.push(index);
                }
            });
            });
            // Get all table rows
            const rows = document.querySelectorAll('tbody tr');

            // Add contextmenu event listener to each row
            rows.forEach(row => {
                row.addEventListener('contextmenu', event => {
                    event.preventDefault(); // Prevent the default context menu
                    event.stopPropagation();

            // Move the row to the hidden rows container
            hiddenRowsContainer.appendChild(row);

            // Remove the "folded" class to ensure it's visible
            row.classList.remove('folded');
        });
        });

        // Add click event listener to the category row to toggle collapsible content
        const categoryRow = hiddenRowsContainer.querySelector('.category-row');
        categoryRow.addEventListener('click', () => {
        // Toggle the "folded" class on the next elements (hidden rows)
        const collapsibleRows = document.querySelectorAll('#hiddenRowsContainer tr:not(.category-row)');
        collapsibleRows.forEach(row => {
            row.classList.toggle('folded');
            
            });
        });


            
            
            </script>
    </body>
    </html>
    